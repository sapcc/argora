# SPDX-FileCopyrightText: 2025 SAP SE
# SPDX-License-Identifier: Apache-2.0

## String to partially override chart.fullname template (will maintain the release name)
##
# nameOverride: ""

## String to fully override chart.fullname template
##
# fullnameOverride: ""

## Configure the controller manager deployment
##
manager:
  enable: true
  replicas: 1

  image:
    repository: controller
    tag: latest
    pullPolicy: IfNotPresent

  ## Arguments
  ##
  args:
    - --leader-elect
    - --metrics-bind-address=:8443
    - --health-probe-bind-address=:8081
    #- --enable-ironcore=false
    #- --netbox-url=https://netbox-url
    #- --zap-log-level=debug

  ## Environment variables
  ##
  env: []

  ## Image pull secrets
  ##
  imagePullSecrets: []

  ## Pod-level security settings
  ##
  podSecurityContext:
    runAsNonRoot: true
    seccompProfile:
        type: RuntimeDefault

  ## Container-level security settings
  ##
  securityContext:
    allowPrivilegeEscalation: false
    capabilities:
        drop:
            - ALL

  ## Resource limits and requests
  ##
  resources:
    limits:
        cpu: 500m
        memory: 128Mi
    requests:
        cpu: 10m
        memory: 64Mi

  ## Manager pod's affinity
  ##
  affinity: {}

  ## Manager pod's node selector
  ##
  nodeSelector: {}

  ## Manager pod's tolerations
  ##
  tolerations: []

  ## Service account name for the manager deployment
  ##
  serviceAccount:
    name: argora-controller-manager
    annotations: []

## RBAC roles and bindings
##
rbac:
  enable: true

## Custom Resource Definitions
##
crd:
  # Install CRDs with the chart
  enable: false
  # Keep CRDs when uninstalling
  keep: true

## Controller metrics endpoint.
## Enable to expose /metrics endpoint with RBAC protection.
##
metrics:
  enable: true
  # Metrics server port
  port: 8443

## Cert-manager integration for TLS certificates.
## Required for webhook certificates and metrics endpoint certificates.
##
certManager:
  enable: false

## Prometheus ServiceMonitor for metrics scraping.
## Requires prometheus-operator to be installed in the cluster.
##
prometheus:
  enable: false

ironcore:
  enable: true

netboxURL: "https://netbox-url"

credentials:
  bmcUser: "_"
  bmcPassword: "_"
  netboxToken: "xxx"

# Sample cluster import and update configurations
# clusterImport:
#   cluster1:
#     clusters:
#       - name: "cluster1"
#         region: "emea"
#         type: "compute"

# update:
#   cluster1:
#     clusters:
#       - name: "cluster1"
#         region: "emea"
#         type: "compute"
